<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>test</title>
</head>
<body>

<script>

String.prototype.byteLength = function( ){ // 获取字符串的字节数，扩展String类型方法
    var b = 0, l = this.length; // 初始化字节数递加变量，并获取字符串参数的字符个数
    if( l ){ 	// 如果存在字符串，则执行计算
        for( var i = 0; i < l; i ++ ){ 	// 遍历字符串，枚举每个字符
            if(this.charCodeAt( i ) > 255 ){ // 字符编码大于255，说明是双字节字符
                b += 2;	// 则累加2个
            }else{
                b ++ ; 	// 否则递加一次
            }
        }
        return b; 	// 返回字节数
    }else{
        return 0; 	// 如果参数为空，则返回0个
    }
}
var s = "String类型长度";	// 定义字符串直接量
console.log(s.byteLength())	// 返回14


</script>


</body>
</html>
